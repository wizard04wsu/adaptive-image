:host {
	/* These variables are set via JavaScript. */
	--intrinsic-width: 128px;
	--intrinsic-height: 128px;
	
	display: inline-block;
	width: var(--intrinsic-width);
	height: var(--intrinsic-height);
}
#outer {
	/* These variables are set via JavaScript. */
	--intrinsic-width: 128px;
	--intrinsic-height: 128px;
	--intrinsic-aspectratio: 1;
	
	overflow: hidden;
	height: 100%;
}
#inner {
	/* Align */
	text-align: left;
	transform: translateX(var(--translateX)) translateY(var(--translateY));
	
	/* Fit */
	height: 100%;
	container-type: size; /* Only required for fit=contain. */
}
#image {
	/* Align */
	display: inline-block;
	transform: translateX(calc(-1 * var(--translateX))) translateY(calc(-1 * var(--translateY)));
	
	/* Fit */
	aspect-ratio: var(--intrinsic-aspectratio);
}


/*====================/
  Alignment
/====================*/

/*=== Horizontal ===*/

/* Center (default) */
#inner {
	--translateX: 50%;
}

/* Left */
[data-align-x~=left] #inner {
	--translateX: 0%;
}

/* Right */
[data-align-x~=right] #inner {
	--translateX: 100%;
}

/*=== Vertical ===*/

/* Middle (default) */
#inner {
	--translateY: 50%;
}

/* Top */
[data-align-y~=top] #inner {
	--translateY: 0%;
}

/* Bottom */
[data-align-y~=bottom] #inner {
	--translateY: 100%;
}


/*====================/
  Fit
/====================*/

/* None (default) */

/* Cover */
[data-fit=cover] #image {
	min-width: 100%;
	min-height: 100%;
	width: fit-content;
	height: fit-content;
}

/* Fill */
[data-fit=fill] #image {
	aspect-ratio: auto;
	width: 100%;
	height: 100%;
}

/* Contain */
[data-fit=contain] #image {
	max-width: 100%;
	max-height: 100%;
	width: min(100cqw, calc(100cqh * var(--intrinsic-aspectratio)));
}

/* Scale-down */
[data-fit=scale-down] #image {
	max-width: 100%;
	max-height: 100%;
}

/* Fit is not 'None' */
[data-fit=cover] img,
[data-fit=fill] img,
[data-fit=contain] img,
[data-fit=scale-down] img {
	height: 100%;
	width: 100%;
}
